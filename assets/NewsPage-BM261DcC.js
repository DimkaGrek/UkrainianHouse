import{e as v,j as e,M as y,i as S,r as n,u as M,f as k,g as I,B as m,c as b,h as P,k as _,d as E}from"./index-DFSR_4BL.js";import{u as c}from"./useNews-C5OWj2-7.js";import{R as $,a as z,N as L}from"./ReadMoreButton-wdO6Tq1r.js";import"./getFormattedDate-C-n2GMDM.js";const A=()=>{const{announceNews:l}=c(),[x,s]=v(),{newsImages:t}=S;return l!=null&&l.length?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col-reverse items-center gap-[16px]  bg-[#fff5c6] p-[18px] rounded-[18px] mb-[34px] md:flex-row md:gap-[12px] md:p-[24px] md:bg-[#ffd437] md:bg-opacity-40 lg:gap-[40px] lg:bg-opacity-50 lg:py-[57px] lg:px-[40px] lg:mb-[44px] shadow-sm",children:[e.jsxs("div",{className:"lg:w-[748px]",children:[e.jsx("h3",{className:"font-proza-semibold text-[20px] font-semibold text-[#1e1e1e] mb-[4px] leading-[160%] md:font-proza-medium md:font-medium md:text-[26px] md:leading-[131%] md:mb-[8px] lg:font-proza-semibold lg:font-semibold lg:text-[36px] lg:leading-[111%] lg:mb-[20px] ",children:"Coming soon..."}),e.jsx("p",{className:"font-istok text-[16px] text-[#666] mb-[16px] leading-[137%]  md:text-[18px] md:leading-[133%] md:mb-[8px] lg:text-[22px] lg:leading-[129%] lg:mb-[20px]",children:"Grateful for the memories created! An enchanting event unfolds at the Carnival, where the air is filled with the lively melodies of traditional Carnival songs and the joyous laughter of children..."}),e.jsx($,{toggleModal:s})]}),e.jsxs("picture",{children:[e.jsx("source",{media:"(min-width: 1440px)",srcSet:`${t.people_desk1x} 1x, ${t.people_desk2x} 2x`,width:"520",height:"232"}),e.jsx("source",{media:"(min-width: 768px)",srcSet:`${t.people_tab1x} 1x, ${t.people_tab2x} 2x`,width:"263",height:"214"}),e.jsx("img",{className:"md:max-w-none rounded-[10px] md:rounded-[18px]",srcSet:`${t.people_mob1x} 1x, ${t.people_mob2x} 2x`,src:t.people_desk1x,alt:"People",width:"308",height:"250"})]})]}),x&&e.jsxs(y,{toggleModal:s,className:"py-[58px] pl-[20px] pr-[10px] md:py-[58px] md:pl-[40px] md:pr-[25px] bg-white",children:[" ",e.jsx(z,{...l[0]})]})]}):null},B=()=>{const{news:l}=c();return e.jsx("ul",{className:"flex flex-col gap-y-[16px] mb-[34px] md:mb-[40px] lg:mb-[44px] md:flex-row md:flex-wrap md:gap-x-[20px]  lg:gap-x-[24px] lg:gap-y-[44px]",children:l.map((x,s)=>e.jsx(L,{item:x},s))})},F=()=>{const{news:l,page:x,isLoading:s,error:t}=c(),[g,w]=n.useState(!0),[p,j]=n.useState(""),[h,f]=n.useState(!1),r=M(),u=n.useRef(null),d=n.useCallback(()=>{const a={params:{page:x,status:"PUBLISHED",...p&&{keyword:p}}};r(k(a)).unwrap().then(o=>{r(I(o.currentPage+1));const i=o.currentPage+1<o.totalPages;w(i),i||m.info("You have reached the end of the news list.")}).catch(o=>m.error(o.message))},[r,x,p]);n.useEffect(()=>{r(b()),r(P()).unwrap().then().catch(a=>m.error(a.message))},[r]),n.useEffect(()=>{h&&!s&&(d(),f(!1))},[h,d,r,s]),n.useEffect(()=>{const a=u.current,o=new IntersectionObserver(i=>{i[0].isIntersecting&&g&&!s&&!t&&d()},{threshold:1});return a&&o.observe(a),()=>{a&&o.unobserve(a)}},[r,d,t,g,p,x,s]);const N=a=>{r(b()),j(a),f(!0)};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"pb-[74px] md:pb-[50px] lg:pb-[110px]",children:[e.jsxs("div",{className:"hidden  md:flex justify-between items-center mb-[40px] lg:mb-[44px]",children:[e.jsx("h3",{className:"font-proza-semibold font-semibold text-[20px] text-[#222] leading-[160%] lg:font-proza-medium lg:font-medium lg:text-[60px] lg:leading-[130%]",children:"News"}),e.jsx("div",{className:"w-[500px] lg:w-[654px]",children:e.jsx(_,{setQuery:N})})]}),e.jsx(A,{}),!l.length&&p?e.jsxs("h2",{className:"text-[#1a1a1a] text-3xl font-bold text-center mb-4",children:['No results for "',p,'".']}):e.jsx(B,{}),e.jsx("div",{ref:u}),s&&e.jsx(E,{placement:"bottom"})]})})};export{F as default};
