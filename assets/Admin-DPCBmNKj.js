import{j as e,r as p,I as Q}from"./index-B_9uhjO6.js";import{a as w,u as B,M as j}from"./useModal-DMmnRlKg.js";const C=(t,n,s,a)=>{const A=new FormData;for(const d of t)A.append(n,d);const r=new Blob([JSON.stringify(s)],{type:"applecation/json"});return A.append(a,r),A},o=({label:t,name:n,type:s="text",placeholder:a,register:A})=>{const r=new Date().toISOString().split("T")[0];return e.jsxs("label",{className:"label",children:[t,e.jsx("input",{className:"field",type:s,placeholder:a,...A(n),defaultValue:s==="date"?r:void 0,max:s==="date"?r:void 0,required:!0})]})},m="data:image/jpeg;base64,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",b="/UkrainianHouse/assets/news-img@2x-cf62Q-PZ.jpg",N=()=>{const t=p.useRef(null),n=[0,0,0,0,0],[s,a]=p.useState(n),{register:A,handleSubmit:r,reset:d}=w(),h=l=>{let c=Array.from(l.target.files);a(i=>{const x=[...i];return c.forEach(y=>{const E=x.indexOf(0);E!==-1&&(x[E]=y)}),x})},u=l=>{a(c=>{const i=c.filter(x=>x!==l);return i.push(0),i})},g=()=>{t.current.click()},f=l=>{l.publishDate=new Date;const c=C(s,"photos",l,"news");for(const i of c.entries())console.log(i[0]+": "+i[1]);d()};return e.jsxs("form",{className:"flex flex-row gap-[16px] h-auto",onSubmit:r(f),children:[e.jsxs("div",{className:"flex flex-col gap-[16px] grow w-[899px]",children:[e.jsx(o,{label:"Article Title",name:"title",placeholder:"Enter the title",register:A}),e.jsxs("label",{className:"label",children:["Article Text:",e.jsx("textarea",{className:"field resize-none overflow-auto h-[446px]",type:"text",placeholder:"Enter the content",...A("content")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(o,{label:'Link (button "read more")',name:"btnLink",placeholder:"https //www...",register:A}),e.jsx(o,{label:"Author",name:"author",placeholder:"Ольга Українська",register:A}),e.jsx(o,{label:"City",name:"city",placeholder:"Maastricht",register:A}),e.jsx(o,{label:"Date",name:"date",type:"date",placeholder:"02/05/2024",register:A})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 items-start w-[185px]",children:[e.jsx("input",{className:"hidden",type:"file",name:"images",ref:t,multiple:!0,accept:"image/*,.png,.jpg,.gif,.web",onChange:h}),e.jsx("div",{className:"flex flex-col flex-1 justify-between gap-6",children:s&&s.map((l,c)=>e.jsx("div",{className:"flex flex-col flex-shrink-0 relative rounded-[10px] shadow-sm",children:l===0?e.jsxs("picture",{className:"h-auto w-fit rounded-[10px]",children:[e.jsx("source",{srcSet:`${m} 1x, ${b} 2x`,type:"image/png"}),e.jsx("img",{width:185,height:119,src:m,alt:"upload img",className:"rounded-[10px] cursor-pointer",onClick:g})]}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:URL.createObjectURL(l),alt:"upload",className:"rounded-[10px] shadow-sm",width:185,height:119}),e.jsx("button",{type:"button",className:"flex justify-center items-center absolute w-[25px] h-[25px] rounded-full top-0 right-0 transform translate-x-1/4 -translate-y-1/4 shadow-md bg-red-500 hover:bg-red-700",onClick:()=>u(l),children:e.jsx(Q,{name:"close",className:"h-[12px] w-[12px]"})})]})},c))}),e.jsx("button",{className:"primaryBtn w-full h-[56px]",type:"submit",children:"Publish"})]})]})},I=()=>{const t=p.useRef(null),n=null,[s,a]=p.useState(n),{register:A,handleSubmit:r,reset:d}=w(),h=l=>{a(l.target.files[0])},u=()=>{a(null)},g=()=>{t.current.click()},f=l=>{console.log(l),d()};return e.jsxs("form",{className:"flex flex-row gap-[16px] h-auto",onSubmit:r(f),children:[e.jsxs("div",{className:"flex flex-col gap-4 grow",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 w-[899px]",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(o,{label:"Book Title",name:"title",placeholder:"....",register:A}),e.jsxs("label",{className:"label",children:["Book Description:",e.jsx("textarea",{className:"field resize-none overflow-auto h-[172px]",type:"text",placeholder:"...",...A("content")})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(o,{label:"Author",name:"author",placeholder:"...",register:A}),e.jsxs("label",{className:"label",children:["About the author:",e.jsx("textarea",{className:"field resize-none overflow-auto h-[172px]",type:"text",placeholder:"...",...A("authorInfo")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(o,{label:"Amount of pages",name:"pages",type:"number",placeholder:"...",register:A}),e.jsx(o,{label:"Year of publishing",name:"year",type:"number",placeholder:"...",register:A}),e.jsx(o,{label:"Genre",name:"genre",placeholder:"...",register:A})]})]}),e.jsxs("div",{className:"flex flex-col justify-between gap-4 pt-7",children:[e.jsx("input",{className:"hidden",type:"file",name:"images",ref:t,accept:"image/*,.png,.jpg,.gif,.web",onChange:h}),e.jsx("div",{children:s?e.jsxs("div",{className:"relative rounded-[10px] shadow-sm",children:[e.jsx("img",{src:URL.createObjectURL(s),alt:"upload",className:"rounded-[10px] shadow-sm",width:185}),e.jsx("button",{type:"button",className:"flex justify-center items-center absolute w-[25px] h-[25px] rounded-full top-0 right-0 transform translate-x-1/4 -translate-y-1/4 shadow-md bg-red-500 hover:bg-red-700",onClick:u,children:e.jsx(Q,{name:"close",className:"h-[12px] w-[12px]"})})]}):e.jsxs("picture",{onClick:g,className:"w-fit rounded-[10px] bg-white flex justify-center items-center h-[298px] cursor-pointer",children:[e.jsx("source",{srcSet:`${m} 1x, ${b} 2x`,type:"image/png"}),e.jsx("img",{width:185,height:119,src:m,alt:"upload img"})]})}),e.jsx("button",{className:"primaryBtn w-full h-[54px]",type:"submit",children:"Publish"})]})]})},M=()=>{const[t,n]=B(),[s,a]=B();return e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{className:"primaryBtn",type:"button",onClick:()=>n(),children:"Add News"}),e.jsx("button",{className:"primaryBtn",type:"button",onClick:()=>a(),children:"Add Book"}),t&&e.jsx(j,{toggleModal:n,children:e.jsx(N,{})}),s&&e.jsx(j,{toggleModal:a,children:e.jsx(I,{})})]})};export{M as default};
