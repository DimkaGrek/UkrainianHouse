import{N as o,e as h,j as e,O as b,M as g,Q as j,R as f,T as k,U as C,V as N,r as v,u as w,d as L,W as y,B as p}from"./index-DFSR_4BL.js";import{g as O}from"./getFormattedDate-C-n2GMDM.js";function B(t){return o({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}const M=({item:t})=>{const[s,a]=h(),[l,r]=h(),i=n=>{n.stopPropagation(),r()},c=()=>{if(Object.hasOwn(t,"btnLink")){const n=j[t.status];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-w-[250px] w-[25vw]",children:[e.jsx("h2",{title:t.title,className:" font-medium text-[26px] leading-[131%] text-my-black2 mb-[6px] truncate",children:t.title}),e.jsx("p",{className:" text-my-black3 leading-[137%] truncate",children:t.content})]}),e.jsx("span",{className:"text-[#666]",children:O(t.publishDate,".")}),e.jsx("span",{className:"font-bold leading-[143%]",children:"Maastricht"}),e.jsx("span",{className:`inline-block h-[32px] w-[120px] py-1 px-3 bg-[${n}] rounded-[35px] text-white text-center`,style:{backgroundColor:n},children:t.status})]})}if(Object.hasOwn(t,"coverImageUrl")){const n=f[t.status];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-center items-center gap-3",children:[e.jsx("img",{src:`http://dev.ukrhouse.pp.ua:8080/${t.coverImageUrl}`,className:"w-[47px] h-[74px] rounded"}),e.jsxs("div",{className:"leading-6 text-xl min-w-[180px] w-[25vw]",children:[e.jsx("p",{className:" text-my-black1 leading-6 font-medium",children:t.author}),e.jsx("p",{title:t.title,className:" text-my-black1 leading-6 truncate font-semibold",children:t.title})]})]}),e.jsxs("div",{className:"flex items-center justify-start gap-4 text-sm leading-5 w-[240px]",children:[e.jsx("p",{className:"text-[#666666]",children:t.genre}),e.jsxs("p",{children:[t.pageCount," pages"]}),e.jsx("p",{children:t.publicationYear})]}),e.jsx("span",{className:`inline-block h-[32px] w-[120px] py-1 px-3 bg-[${n}] rounded-[35px] text-white text-center`,style:{backgroundColor:n},children:t.status})]})}},d=()=>{if(Object.hasOwn(t,"btnLink"))return e.jsx(k,{item:t,toggle:a});if(Object.hasOwn(t,"coverImageUrl"))return e.jsx(C,{item:t,toggle:a})};return e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"h-[100px] flex justify-between items-center px-2 py-2.5 hover:bg-my-lightblue border-b border-[#C4C4C4] last:border-none",children:[c(),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:a,children:e.jsx(B,{size:24})}),e.jsx("button",{type:"button",onClick:i,className:"hover:text-green",children:e.jsx(b,{size:24,color:"red"})})]})]}),s&&e.jsx(g,{toggleModal:a,children:d()}),l&&e.jsx($,{toggleModal:r,item:t})]})},U=({items:t})=>e.jsx("ul",{className:"pr-2 flex flex-col h-[70vh] max-h-[70vh] scrollbar mb-6",children:t.map(s=>e.jsx(M,{item:s},s.id))});function D(t){return o({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"},child:[]}]})(t)}function z(t){return o({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"},child:[]}]})(t)}function F(t){return o({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m12.707 7.707-1.414-1.414L5.586 12l5.707 5.707 1.414-1.414L8.414 12z"},child:[]},{tag:"path",attr:{d:"M16.293 6.293 10.586 12l5.707 5.707 1.414-1.414L13.414 12l4.293-4.293z"},child:[]}]})(t)}function I(t){return o({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.296 7.71 14.621 12l-4.325 4.29 1.408 1.42L17.461 12l-5.757-5.71z"},child:[]},{tag:"path",attr:{d:"M6.704 6.29 5.296 7.71 9.621 12l-4.325 4.29 1.408 1.42L12.461 12z"},child:[]}]})(t)}const P=({setPage:t,page:s,totalPages:a})=>{const l=c=>{t(c.selected)},r=()=>{t(0)},i=()=>{t(a-1)};if(!(a<=1))return e.jsxs("div",{className:"flex items-center justify-center gap-[17px]",children:[e.jsx("button",{className:"page-link",onClick:r,disabled:s===0,children:e.jsx(F,{})}),e.jsx(N,{pageCount:a,pageRangeDisplayed:2,marginPagesDisplayed:1,onPageChange:l,forcePage:s,containerClassName:"pagination flex gap-[4px]",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeLinkClassName:"active-pg",previousLabel:e.jsx("button",{className:"page-link",disabled:s===0,children:e.jsx(D,{})}),nextLabel:e.jsx("button",{className:"page-link",disabled:s===a-1,children:e.jsx(z,{})}),breakLabel:"..."}),e.jsx("button",{className:"page-link",onClick:i,disabled:s===a-1,children:e.jsx(I,{})})]})},$=({item:t,toggleModal:s})=>{const[a,l]=v.useState(!1),r=w(),i=t.title.length>10?`${t.title.slice(0,20)}...`:t.title,c=(n,x)=>{l(!0),r(n).unwrap().then(()=>{p.success(`The «${x}» was successfully deleted.`),s()}).catch(u=>{const m=u.message||"Unknown error";p.error(` ${x} was not deleted. ${m}`)}).finally(()=>l(!1))},d=()=>{Object.hasOwn(t,"btnLink")&&c(y(t.id),i)};return e.jsxs(g,{toggleModal:s,children:[e.jsxs("p",{className:"h-[100px] text-[24px] mb-3 font-medium  flex items-center ",children:["Are you sure you want to delete «",i,"»?"]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx("button",{type:"button",className:"primaryBtn w-1/2",onClick:s,children:"Cancel"}),e.jsxs("button",{type:"button",className:"relative primaryBtn w-1/2 disabled:text-gray-300 disabled:bg-gray-400  disabled:cursor-not-allowed",onClick:d,disabled:a,children:["Yes",a&&e.jsx(L,{placement:"absolute",size:20})]})]})]})};export{U as C,P};
