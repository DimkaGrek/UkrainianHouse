import{r as o,h as S,u as j,H as k,l as P,m as b,P as w,j as s,x as A,n as l,a as B}from"./index-Bg99GbQ6.js";import{u as E}from"./useBooks-DZfTJsRi.js";import{C as L,P as y}from"./Pagination-D2otnnbD.js";import{I}from"./InfoMessage-Ct4lnWUE.js";import"./getFormattedDate-C-n2GMDM.js";const v=()=>{const{books:c,page:r,totalBooks:i,totalPages:m,isLoading:u}=E(),[e,d]=o.useState("Show All"),[h,f]=o.useState([]),[x]=S(),t=j(),n=x.get("keyword");o.useEffect(()=>{f(["Show All",...k])},[]),o.useEffect(()=>{t(P())},[t]),o.useEffect(()=>{const a={params:{page:r,size:w,...n&&{keyword:n},...e!=="Show All"&&{status:e}},isAdmin:!0};t(b(a))},[t,r,n,e]);const g=a=>{t(l(0)),d(a)},p=a=>{t(l(a))};return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"py-5",children:[s.jsxs("div",{className:"mb-3 flex justify-between",children:[s.jsxs("h2",{className:"text-[24px] font-medium",children:["Total books: ",i]}),s.jsx(A,{status:e,setStatus:g,statuses:h,showLabel:!1})]}),c.length?s.jsx(L,{items:c}):s.jsx(I,{messageText:"Please add a book.",keyword:n,status:e}),s.jsx(y,{setPage:p,page:r,totalPages:m})]}),u&&s.jsx(B,{})]})};export{v as default};
