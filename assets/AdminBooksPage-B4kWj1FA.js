import{r as o,m as k,u as P,D as y,E,P as b,g as w,j as s,q as A,a as B,F as c}from"./index-BKovJMkw.js";import{u as I}from"./useBooks-Ba-leukk.js";import{I as i,a as m}from"./InfoMessage-CBTReub2.js";import{C as L,P as T}from"./ConfirmDelete-CvA-m4rp.js";import"./getFormattedDate-C-n2GMDM.js";const R=()=>{const{books:n,page:r,totalBooks:u,totalPages:g,isLoading:h}=I(),[l,d]=o.useState("Show All"),[f,x]=o.useState([]),[p]=k(),e=P(),t=p.get("keyword");o.useEffect(()=>{x(["Show All",...y])},[]),o.useEffect(()=>{e(E())},[e]),o.useEffect(()=>{const a={params:{page:r,size:b,...t&&{keyword:t},...l!=="Show All"&&{status:l}},isAdmin:!0};e(w(a))},[e,r,t,l]);const j=a=>{e(c(0)),d(a)},S=a=>{e(c(a))};return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"py-5",children:[s.jsxs("div",{className:"flex justify-between mb-3",children:[s.jsxs("h2",{className:"text-[24px] font-medium",children:["Total books: ",u]}),s.jsx(A,{status:l,setStatus:j,statuses:f,showLabel:!1})]}),n.length===0&&t?s.jsx(i,{type:m.NoResults,messageText:t}):n.length===0&&s.jsx(i,{type:m.Empty,messageText:"Please add a book."}),n.length?s.jsx(L,{items:n}):null,s.jsx(T,{setPage:S,page:r,totalPages:g})]}),h&&s.jsx(B,{})]})};export{R as default};
