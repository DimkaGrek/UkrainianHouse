import{j as d}from"./index-BkKuPzRt.js";import{g as p,a as g}from"./index.esm-B5x0qvRq.js";const w=({label:r,name:e,type:i="text",placeholder:t,defaultValue:f,register:n,errors:o,autoComplete:c="off"})=>{var a;const u={className:"field",type:i,placeholder:t,defaultValue:f,...n(e),autoComplete:c},s=(a=o[e])==null?void 0:a.message;return d.jsxs("div",{children:[d.jsxs("label",{className:"label",children:[r,d.jsx("input",{...u})]}),s&&d.jsx("p",{className:"field-error",children:s})]})};var h=function(r,e,i){if(r&&"reportValidity"in r){var t=p(i,e);r.setCustomValidity(t&&t.message||""),r.reportValidity()}},m=function(r,e){var i=function(f){var n=e.fields[f];n&&n.ref&&"reportValidity"in n.ref?h(n.ref,f,r):n.refs&&n.refs.forEach(function(o){return h(o,f,r)})};for(var t in e.fields)i(t)},j=function(r){return r instanceof Date},x=function(r){return r==null},b=function(r){return typeof r=="object"},N=function(r){return!x(r)&&!Array.isArray(r)&&b(r)&&!j(r)},V=function(r){return/^\w*$/.test(r)},v=function(r,e,i){for(var t=-1,f=V(e)?[e]:function(a){return l=a.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(l)?l.filter(Boolean):[];var l}(e),n=f.length,o=n-1;++t<n;){var c=f[t],u=i;if(t!==o){var s=r[c];u=N(s)||Array.isArray(s)?s:isNaN(+f[t+1])?{}:[]}r[c]=u,r=r[c]}return r},A=function(r,e){e.shouldUseNativeValidation&&m(r,e);var i={};for(var t in r){var f=p(e.fields,t),n=Object.assign(r[t]||{},{ref:f&&f.ref});if(E(e.names||Object.keys(r),t)){var o=Object.assign({},p(i,t));v(o,"root",n),v(i,t,o)}else v(i,t,n)}return i},E=function(r,e){return r.some(function(i){return i.startsWith(e+".")})};function U(r,e,i){return e===void 0&&(e={}),i===void 0&&(i={}),function(t,f,n){try{return Promise.resolve(function(o,c){try{var u=(e.context,Promise.resolve(r[i.mode==="sync"?"validateSync":"validate"](t,Object.assign({abortEarly:!1},e,{context:f}))).then(function(s){return n.shouldUseNativeValidation&&m({},n),{values:i.raw?t:s,errors:{}}}))}catch(s){return c(s)}return u&&u.then?u.then(void 0,c):u}(0,function(o){if(!o.inner)throw o;return{values:{},errors:A((c=o,u=!n.shouldUseNativeValidation&&n.criteriaMode==="all",(c.inner||[]).reduce(function(s,a){if(s[a.path]||(s[a.path]={message:a.message,type:a.type}),u){var l=s[a.path].types,y=l&&l[a.type];s[a.path]=g(a.path,u,s,a.type,y?[].concat(y,a.message):a.message)}return s},{})),n)};var c,u}))}catch(o){return Promise.reject(o)}}}export{w as I,U as o};
