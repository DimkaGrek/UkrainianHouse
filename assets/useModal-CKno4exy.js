import{r as rt,j as ye,I as wt,c as w}from"./index-B6IazmL-.js";const zt=({children:e,toggleModal:i,className:r})=>{rt.useEffect(()=>{const a=c=>{c.code==="Escape"&&i()};return document.addEventListener("keydown",a),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",a),document.body.style.overflow="auto"}},[i]);const s=a=>{a.currentTarget===a.target&&i()},n=r==="news-modal"?"py-[58px] pl-[20px] pr-[10px] bg-[#FFFFFF] md:py-[58px] md:pl-[40px] md:pr-[25px]":"p-[44px] bg-[#DAEFFF]";return ye.jsx("div",{className:"flex items-center justify-center fixed bg-black backdrop-blur-sm bg-opacity-40 w-full h-full left-0 top-0 z-50 ",onClick:s,children:ye.jsxs("div",{className:`${n} relative rounded-[24px] sm-max:max-w-[300px] max-w-[350px] md:max-w-[704px] lg:max-w-[1240px] max-h-[95%] overflow-hidden`,children:[ye.jsx("button",{type:"button",onClick:i,className:"absolute top-[20px] right-[20px] w-[20px] h-[20px]",children:ye.jsx(wt,{name:"close",className:"fill-[#1E1E1E]",size:"20"})}),e]})})};var oe=e=>e.type==="checkbox",ie=e=>e instanceof Date,R=e=>e==null;const st=e=>typeof e=="object";var p=e=>!R(e)&&!Array.isArray(e)&&st(e)&&!ie(e),it=e=>p(e)&&e.target?oe(e.target)?e.target.checked:e.target.value:e,Dt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ut=(e,i)=>e.has(Dt(i)),Et=e=>{const i=e.constructor&&e.constructor.prototype;return p(i)&&i.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let i;const r=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Oe&&(e instanceof Blob||e instanceof FileList))&&(r||p(e)))if(i=r?[]:{},!r&&!Et(e))i=e;else for(const s in e)e.hasOwnProperty(s)&&(i[s]=M(e[s]));else return e;return i}var ce=e=>Array.isArray(e)?e.filter(Boolean):[],E=e=>e===void 0,d=(e,i,r)=>{if(!i||!p(e))return r;const s=ce(i.split(/[,[\].]+?/)).reduce((n,a)=>R(n)?n:n[a],e);return E(s)||s===e?E(e[i])?r:e[i]:s},I=e=>typeof e=="boolean";const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},P={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kt=w.createContext(null),Te=()=>w.useContext(kt);var nt=(e,i,r,s=!0)=>{const n={defaultValues:i._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const c=a;return i._proxyFormState[c]!==P.all&&(i._proxyFormState[c]=!s||P.all),r&&(r[c]=!0),e[c]}});return n},N=e=>p(e)&&!Object.keys(e).length,at=(e,i,r,s)=>{r(e);const{name:n,...a}=e;return N(a)||Object.keys(a).length>=Object.keys(i).length||Object.keys(a).find(c=>i[c]===(!s||P.all))},ge=e=>Array.isArray(e)?e:[e],lt=(e,i,r)=>!e||!i||e===i||ge(e).some(s=>s&&(r?s===i:s.startsWith(i)||i.startsWith(s)));function Re(e){const i=w.useRef(e);i.current=e,w.useEffect(()=>{const r=!e.disabled&&i.current.subject&&i.current.subject.subscribe({next:i.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function St(e){const i=Te(),{control:r=i.control,disabled:s,name:n,exact:a}=e||{},[c,_]=w.useState(r._formState),g=w.useRef(!0),k=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),D=w.useRef(n);return D.current=n,Re({disabled:s,next:m=>g.current&&lt(D.current,m.name,a)&&at(m,k.current,r._updateFormState)&&_({...r._formState,...m}),subject:r._subjects.state}),w.useEffect(()=>(g.current=!0,k.current.isValid&&r._updateValid(!0),()=>{g.current=!1}),[r]),nt(c,r,k.current,!1)}var $=e=>typeof e=="string",ot=(e,i,r,s,n)=>$(e)?(s&&i.watch.add(e),d(r,e,n)):Array.isArray(e)?e.map(a=>(s&&i.watch.add(a),d(r,a))):(s&&(i.watchAll=!0),r);function pt(e){const i=Te(),{control:r=i.control,name:s,defaultValue:n,disabled:a,exact:c}=e||{},_=w.useRef(s);_.current=s,Re({disabled:a,subject:r._subjects.values,next:D=>{lt(_.current,D.name,c)&&k(M(ot(_.current,r._names,D.values||r._formValues,!1,n)))}});const[g,k]=w.useState(r._getWatch(s,n));return w.useEffect(()=>r._removeUnmounted()),g}var Ue=e=>/^\w*$/.test(e),ct=e=>ce(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,i,r)=>{let s=-1;const n=Ue(i)?[i]:ct(i),a=n.length,c=a-1;for(;++s<a;){const _=n[s];let g=r;if(s!==c){const k=e[_];g=p(k)||Array.isArray(k)?k:isNaN(+n[s+1])?{}:[]}e[_]=g,e=e[_]}return e};function Ct(e){const i=Te(),{name:r,disabled:s,control:n=i.control,shouldUnregister:a}=e,c=ut(n._names.array,r),_=pt({control:n,name:r,defaultValue:d(n._formValues,r,d(n._defaultValues,r,e.defaultValue)),exact:!0}),g=St({control:n,name:r}),k=w.useRef(n.register(r,{...e.rules,value:_,...I(e.disabled)?{disabled:e.disabled}:{}}));return w.useEffect(()=>{const D=n._options.shouldUnregister||a,m=(v,j)=>{const T=d(n._fields,v);T&&(T._f.mount=j)};if(m(r,!0),D){const v=M(d(n._options.defaultValues,r));A(n._defaultValues,r,v),E(d(n._formValues,r))&&A(n._formValues,r,v)}return()=>{(c?D&&!n._state.action:D)?n.unregister(r):m(r,!1)}},[r,n,c,a]),w.useEffect(()=>{d(n._fields,r)&&n._updateDisabledField({disabled:s,fields:n._fields,name:r,value:d(n._fields,r)._f.value})},[s,r,n]),{field:{name:r,value:_,...I(s)||g.disabled?{disabled:g.disabled||s}:{},onChange:w.useCallback(D=>k.current.onChange({target:{value:it(D),name:r},type:_e.CHANGE}),[r]),onBlur:w.useCallback(()=>k.current.onBlur({target:{value:d(n._formValues,r),name:r},type:_e.BLUR}),[r,n]),ref:D=>{const m=d(n._fields,r);m&&D&&(m._f.ref={focus:()=>D.focus(),select:()=>D.select(),setCustomValidity:v=>D.setCustomValidity(v),reportValidity:()=>D.reportValidity()})}},formState:g,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!d(g.errors,r)},isDirty:{enumerable:!0,get:()=>!!d(g.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!d(g.touchedFields,r)},error:{enumerable:!0,get:()=>d(g.errors,r)}})}}const Kt=e=>e.render(Ct(e));var Lt=(e,i,r,s,n)=>i?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},Ge=e=>({isOnSubmit:!e||e===P.onSubmit,isOnBlur:e===P.onBlur,isOnChange:e===P.onChange,isOnAll:e===P.all,isOnTouch:e===P.onTouched}),Je=(e,i,r)=>!r&&(i.watchAll||i.watch.has(e)||[...i.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const le=(e,i,r,s)=>{for(const n of r||Object.keys(e)){const a=d(e,n);if(a){const{_f:c,..._}=a;if(c){if(c.refs&&c.refs[0]&&i(c.refs[0],n)&&!s)break;if(c.ref&&i(c.ref,c.name)&&!s)break;le(_,i)}else p(_)&&le(_,i)}}};var Ot=(e,i,r)=>{const s=ce(d(e,r));return A(s,"root",i[r]),A(e,r,s),e},Me=e=>e.type==="file",X=e=>typeof e=="function",be=e=>{if(!Oe)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},ve=e=>$(e),Be=e=>e.type==="radio",xe=e=>e instanceof RegExp;const Qe={value:!1,isValid:!1},Xe={value:!0,isValid:!0};var ft=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!E(e[0].attributes.value)?E(e[0].value)||e[0].value===""?Xe:{value:e[0].value,isValid:!0}:Xe:Qe}return Qe};const Ye={isValid:!1,value:null};var dt=e=>Array.isArray(e)?e.reduce((i,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:i,Ye):Ye;function Ze(e,i,r="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||I(e)&&!e)return{type:r,message:ve(e)?e:"",ref:i}}var se=e=>p(e)&&!xe(e)?e:{value:e,message:""},et=async(e,i,r,s,n)=>{const{ref:a,refs:c,required:_,maxLength:g,minLength:k,min:D,max:m,pattern:v,validate:j,name:T,valueAsNumber:fe,mount:Fe,disabled:Q}=e._f,x=d(i,T);if(!Fe||Q)return{};const z=c?c[0]:a,K=V=>{s&&z.reportValidity&&(z.setCustomValidity(I(V)?"":V||""),z.reportValidity())},C={},ue=Be(a),te=oe(a),Ae=ue||te,q=(fe||Me(a))&&E(a.value)&&E(x)||be(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,Y=Lt.bind(null,T,r,C),G=(V,b,S,U=J.maxLength,B=J.minLength)=>{const W=V?b:S;C[T]={type:V?U:B,message:W,ref:a,...Y(V?U:B,W)}};if(n?!Array.isArray(x)||!x.length:_&&(!Ae&&(q||R(x))||I(x)&&!x||te&&!ft(c).isValid||ue&&!dt(c).isValid)){const{value:V,message:b}=ve(_)?{value:!!_,message:_}:se(_);if(V&&(C[T]={type:J.required,message:b,ref:z,...Y(J.required,b)},!r))return K(b),C}if(!q&&(!R(D)||!R(m))){let V,b;const S=se(m),U=se(D);if(!R(x)&&!isNaN(x)){const B=a.valueAsNumber||x&&+x;R(S.value)||(V=B>S.value),R(U.value)||(b=B<U.value)}else{const B=a.valueAsDate||new Date(x),W=de=>new Date(new Date().toDateString()+" "+de),Z=a.type=="time",ne=a.type=="week";$(S.value)&&x&&(V=Z?W(x)>W(S.value):ne?x>S.value:B>new Date(S.value)),$(U.value)&&x&&(b=Z?W(x)<W(U.value):ne?x<U.value:B<new Date(U.value))}if((V||b)&&(G(!!V,S.message,U.message,J.max,J.min),!r))return K(C[T].message),C}if((g||k)&&!q&&($(x)||n&&Array.isArray(x))){const V=se(g),b=se(k),S=!R(V.value)&&x.length>+V.value,U=!R(b.value)&&x.length<+b.value;if((S||U)&&(G(S,V.message,b.message),!r))return K(C[T].message),C}if(v&&!q&&$(x)){const{value:V,message:b}=se(v);if(xe(V)&&!x.match(V)&&(C[T]={type:J.pattern,message:b,ref:a,...Y(J.pattern,b)},!r))return K(b),C}if(j){if(X(j)){const V=await j(x,i),b=Ze(V,z);if(b&&(C[T]={...b,...Y(J.validate,b.message)},!r))return K(b.message),C}else if(p(j)){let V={};for(const b in j){if(!N(V)&&!r)break;const S=Ze(await j[b](x,i),z,b);S&&(V={...S,...Y(b,S.message)},K(S.message),r&&(C[T]=V))}if(!N(V)&&(C[T]={ref:z,...V},!r))return C}}return K(!0),C};function Tt(e,i){const r=i.slice(0,-1).length;let s=0;for(;s<r;)e=E(e)?s++:e[i[s++]];return e}function Rt(e){for(const i in e)if(e.hasOwnProperty(i)&&!E(e[i]))return!1;return!0}function O(e,i){const r=Array.isArray(i)?i:Ue(i)?[i]:ct(i),s=r.length===1?e:Tt(e,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(p(s)&&N(s)||Array.isArray(s)&&Rt(s))&&O(e,r.slice(0,-1)),e}var pe=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},Ve=e=>R(e)||!st(e);function ee(e,i){if(Ve(e)||Ve(i))return e===i;if(ie(e)&&ie(i))return e.getTime()===i.getTime();const r=Object.keys(e),s=Object.keys(i);if(r.length!==s.length)return!1;for(const n of r){const a=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const c=i[n];if(ie(a)&&ie(c)||p(a)&&p(c)||Array.isArray(a)&&Array.isArray(c)?!ee(a,c):a!==c)return!1}}return!0}var yt=e=>e.type==="select-multiple",Ut=e=>Be(e)||oe(e),Ce=e=>be(e)&&e.isConnected,ht=e=>{for(const i in e)if(X(e[i]))return!0;return!1};function me(e,i={}){const r=Array.isArray(e);if(p(e)||r)for(const s in e)Array.isArray(e[s])||p(e[s])&&!ht(e[s])?(i[s]=Array.isArray(e[s])?[]:{},me(e[s],i[s])):R(e[s])||(i[s]=!0);return i}function gt(e,i,r){const s=Array.isArray(e);if(p(e)||s)for(const n in e)Array.isArray(e[n])||p(e[n])&&!ht(e[n])?E(i)||Ve(r[n])?r[n]=Array.isArray(e[n])?me(e[n],[]):{...me(e[n])}:gt(e[n],R(i)?{}:i[n],r[n]):r[n]=!ee(e[n],i[n]);return r}var he=(e,i)=>gt(e,i,me(i)),vt=(e,{valueAsNumber:i,valueAsDate:r,setValueAs:s})=>E(e)?e:i?e===""?NaN:e&&+e:r&&$(e)?new Date(e):s?s(e):e;function Le(e){const i=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):i.disabled))return Me(i)?i.files:Be(i)?dt(e.refs).value:yt(i)?[...i.selectedOptions].map(({value:r})=>r):oe(i)?ft(e.refs).value:vt(E(i.value)?e.ref.value:i.value,e)}var Mt=(e,i,r,s)=>{const n={};for(const a of e){const c=d(i,a);c&&A(n,a,c._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},ae=e=>E(e)?e:xe(e)?e.source:p(e)?xe(e.value)?e.value.source:e.value:e,Bt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function tt(e,i,r){const s=d(e,r);if(s||Ue(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),c=d(i,a),_=d(e,a);if(c&&!Array.isArray(c)&&r!==a)return{name:r};if(_&&_.type)return{name:a,error:_};n.pop()}return{name:r}}var Nt=(e,i,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(i||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,It=(e,i)=>!ce(d(e,i)).length&&O(e,i);const Pt={mode:P.onSubmit,reValidateMode:P.onChange,shouldFocusError:!0};function jt(e={},i){let r={...Pt,...e},s={submitCount:0,isDirty:!1,isLoading:X(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},a=p(r.values)||p(r.defaultValues)?M(r.values||r.defaultValues)||{}:{},c=r.shouldUnregister?{}:M(a),_={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},k,D=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:pe(),array:pe(),state:pe()},j=Ge(r.mode),T=Ge(r.reValidateMode),fe=r.criteriaMode===P.all,Fe=t=>u=>{clearTimeout(D),D=setTimeout(t,u)},Q=async t=>{if(m.isValid||t){const u=r.resolver?N((await q()).errors):await G(n,!0);u!==s.isValid&&v.state.next({isValid:u})}},x=t=>m.isValidating&&v.state.next({isValidating:t}),z=(t,u=[],l,y,f=!0,o=!0)=>{if(y&&l){if(_.action=!0,o&&Array.isArray(d(n,t))){const h=l(d(n,t),y.argA,y.argB);f&&A(n,t,h)}if(o&&Array.isArray(d(s.errors,t))){const h=l(d(s.errors,t),y.argA,y.argB);f&&A(s.errors,t,h),It(s.errors,t)}if(m.touchedFields&&o&&Array.isArray(d(s.touchedFields,t))){const h=l(d(s.touchedFields,t),y.argA,y.argB);f&&A(s.touchedFields,t,h)}m.dirtyFields&&(s.dirtyFields=he(a,c)),v.state.next({name:t,isDirty:b(t,u),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else A(c,t,u)},K=(t,u)=>{A(s.errors,t,u),v.state.next({errors:s.errors})},C=t=>{s.errors=t,v.state.next({errors:s.errors,isValid:!1})},ue=(t,u,l,y)=>{const f=d(n,t);if(f){const o=d(c,t,E(l)?d(a,t):l);E(o)||y&&y.defaultChecked||u?A(c,t,u?o:Le(f._f)):B(t,o),_.mount&&Q()}},te=(t,u,l,y,f)=>{let o=!1,h=!1;const F={name:t},L=!!(d(n,t)&&d(n,t)._f.disabled);if(!l||y){m.isDirty&&(h=s.isDirty,s.isDirty=F.isDirty=b(),o=h!==F.isDirty);const H=L||ee(d(a,t),u);h=!!(!L&&d(s.dirtyFields,t)),H||L?O(s.dirtyFields,t):A(s.dirtyFields,t,!0),F.dirtyFields=s.dirtyFields,o=o||m.dirtyFields&&h!==!H}if(l){const H=d(s.touchedFields,t);H||(A(s.touchedFields,t,l),F.touchedFields=s.touchedFields,o=o||m.touchedFields&&H!==l)}return o&&f&&v.state.next(F),o?F:{}},Ae=(t,u,l,y)=>{const f=d(s.errors,t),o=m.isValid&&I(u)&&s.isValid!==u;if(e.delayError&&l?(k=Fe(()=>K(t,l)),k(e.delayError)):(clearTimeout(D),k=null,l?A(s.errors,t,l):O(s.errors,t)),(l?!ee(f,l):f)||!N(y)||o){const h={...y,...o&&I(u)?{isValid:u}:{},errors:s.errors,name:t};s={...s,...h},v.state.next(h)}x(!1)},q=async t=>r.resolver(c,r.context,Mt(t||g.mount,n,r.criteriaMode,r.shouldUseNativeValidation)),Y=async t=>{const{errors:u}=await q(t);if(t)for(const l of t){const y=d(u,l);y?A(s.errors,l,y):O(s.errors,l)}else s.errors=u;return u},G=async(t,u,l={valid:!0})=>{for(const y in t){const f=t[y];if(f){const{_f:o,...h}=f;if(o){const F=g.array.has(o.name),L=await et(f,c,fe,r.shouldUseNativeValidation&&!u,F);if(L[o.name]&&(l.valid=!1,u))break;!u&&(d(L,o.name)?F?Ot(s.errors,L,o.name):A(s.errors,o.name,L[o.name]):O(s.errors,o.name))}h&&await G(h,u,l)}}return l.valid},V=()=>{for(const t of g.unMount){const u=d(n,t);u&&(u._f.refs?u._f.refs.every(l=>!Ce(l)):!Ce(u._f.ref))&&De(t)}g.unMount=new Set},b=(t,u)=>(t&&u&&A(c,t,u),!ee(Ne(),a)),S=(t,u,l)=>ot(t,g,{..._.mount?c:E(u)?a:$(t)?{[t]:u}:u},l,u),U=t=>ce(d(_.mount?c:a,t,e.shouldUnregister?d(a,t,[]):[])),B=(t,u,l={})=>{const y=d(n,t);let f=u;if(y){const o=y._f;o&&(!o.disabled&&A(c,t,vt(u,o)),f=be(o.ref)&&R(u)?"":u,yt(o.ref)?[...o.ref.options].forEach(h=>h.selected=f.includes(h.value)):o.refs?oe(o.ref)?o.refs.length>1?o.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(f)?!!f.find(F=>F===h.value):f===h.value)):o.refs[0]&&(o.refs[0].checked=!!f):o.refs.forEach(h=>h.checked=h.value===f):Me(o.ref)?o.ref.value="":(o.ref.value=f,o.ref.type||v.values.next({name:t,values:{...c}})))}(l.shouldDirty||l.shouldTouch)&&te(t,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&we(t)},W=(t,u,l)=>{for(const y in u){const f=u[y],o=`${t}.${y}`,h=d(n,o);(g.array.has(t)||!Ve(f)||h&&!h._f)&&!ie(f)?W(o,f,l):B(o,f,l)}},Z=(t,u,l={})=>{const y=d(n,t),f=g.array.has(t),o=M(u);A(c,t,o),f?(v.array.next({name:t,values:{...c}}),(m.isDirty||m.dirtyFields)&&l.shouldDirty&&v.state.next({name:t,dirtyFields:he(a,c),isDirty:b(t,o)})):y&&!y._f&&!R(o)?W(t,o,l):B(t,o,l),Je(t,g)&&v.state.next({...s}),v.values.next({name:t,values:{...c}}),!_.mount&&i()},ne=async t=>{const u=t.target;let l=u.name,y=!0;const f=d(n,l),o=()=>u.type?Le(f._f):it(t),h=F=>{y=Number.isNaN(F)||F===d(c,l,F)};if(f){let F,L;const H=o(),re=t.type===_e.BLUR||t.type===_e.FOCUS_OUT,mt=!Bt(f._f)&&!r.resolver&&!d(s.errors,l)&&!f._f.deps||Nt(re,d(s.touchedFields,l),s.isSubmitted,T,j),ke=Je(l,g,re);A(c,l,H),re?(f._f.onBlur&&f._f.onBlur(t),k&&k(0)):f._f.onChange&&f._f.onChange(t);const Se=te(l,H,re,!1),Ft=!N(Se)||ke;if(!re&&v.values.next({name:l,type:t.type,values:{...c}}),mt)return m.isValid&&Q(),Ft&&v.state.next({name:l,...ke?{}:Se});if(!re&&ke&&v.state.next({...s}),x(!0),r.resolver){const{errors:ze}=await q([l]);if(h(H),y){const At=tt(s.errors,n,l),Ke=tt(ze,n,At.name||l);F=Ke.error,l=Ke.name,L=N(ze)}}else F=(await et(f,c,fe,r.shouldUseNativeValidation))[l],h(H),y&&(F?L=!1:m.isValid&&(L=await G(n,!0)));y&&(f._f.deps&&we(f._f.deps),Ae(l,L,F,Se))}},de=(t,u)=>{if(d(s.errors,u)&&t.focus)return t.focus(),1},we=async(t,u={})=>{let l,y;const f=ge(t);if(x(!0),r.resolver){const o=await Y(E(t)?t:f);l=N(o),y=t?!f.some(h=>d(o,h)):l}else t?(y=(await Promise.all(f.map(async o=>{const h=d(n,o);return await G(h&&h._f?{[o]:h}:h)}))).every(Boolean),!(!y&&!s.isValid)&&Q()):y=l=await G(n);return v.state.next({...!$(t)||m.isValid&&l!==s.isValid?{}:{name:t},...r.resolver||!t?{isValid:l}:{},errors:s.errors,isValidating:!1}),u.shouldFocus&&!y&&le(n,de,t?f:g.mount),y},Ne=t=>{const u={...a,..._.mount?c:{}};return E(t)?u:$(t)?d(u,t):t.map(l=>d(u,l))},Ie=(t,u)=>({invalid:!!d((u||s).errors,t),isDirty:!!d((u||s).dirtyFields,t),isTouched:!!d((u||s).touchedFields,t),error:d((u||s).errors,t)}),_t=t=>{t&&ge(t).forEach(u=>O(s.errors,u)),v.state.next({errors:t?s.errors:{}})},Pe=(t,u,l)=>{const y=(d(n,t,{_f:{}})._f||{}).ref;A(s.errors,t,{...u,ref:y}),v.state.next({name:t,errors:s.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},bt=(t,u)=>X(t)?v.values.subscribe({next:l=>t(S(void 0,u),l)}):S(t,u,!0),De=(t,u={})=>{for(const l of t?ge(t):g.mount)g.mount.delete(l),g.array.delete(l),u.keepValue||(O(n,l),O(c,l)),!u.keepError&&O(s.errors,l),!u.keepDirty&&O(s.dirtyFields,l),!u.keepTouched&&O(s.touchedFields,l),!r.shouldUnregister&&!u.keepDefaultValue&&O(a,l);v.values.next({values:{...c}}),v.state.next({...s,...u.keepDirty?{isDirty:b()}:{}}),!u.keepIsValid&&Q()},je=({disabled:t,name:u,field:l,fields:y,value:f})=>{if(I(t)){const o=t?void 0:E(f)?Le(l?l._f:d(y,u)._f):f;A(c,u,o),te(u,o,!1,!1,!0)}},Ee=(t,u={})=>{let l=d(n,t);const y=I(u.disabled);return A(n,t,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:t}},name:t,mount:!0,...u}}),g.mount.add(t),l?je({field:l,disabled:u.disabled,name:t,value:u.value}):ue(t,!0,u.value),{...y?{disabled:u.disabled}:{},...r.progressive?{required:!!u.required,min:ae(u.min),max:ae(u.max),minLength:ae(u.minLength),maxLength:ae(u.maxLength),pattern:ae(u.pattern)}:{},name:t,onChange:ne,onBlur:ne,ref:f=>{if(f){Ee(t,u),l=d(n,t);const o=E(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=Ut(o),F=l._f.refs||[];if(h?F.find(L=>L===o):o===l._f.ref)return;A(n,t,{_f:{...l._f,...h?{refs:[...F.filter(Ce),o,...Array.isArray(d(a,t))?[{}]:[]],ref:{type:o.type,name:t}}:{ref:o}}}),ue(t,!1,void 0,o)}else l=d(n,t,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||u.shouldUnregister)&&!(ut(g.array,t)&&_.action)&&g.unMount.add(t)}}},qe=()=>r.shouldFocusError&&le(n,de,g.mount),xt=t=>{I(t)&&(v.state.next({disabled:t}),le(n,(u,l)=>{let y=t;const f=d(n,l);f&&I(f._f.disabled)&&(y||(y=f._f.disabled)),u.disabled=y},0,!1))},We=(t,u)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=M(c);if(v.state.next({isSubmitting:!0}),r.resolver){const{errors:o,values:h}=await q();s.errors=o,f=h}else await G(n);if(O(s.errors,"root"),N(s.errors)){v.state.next({errors:{}});try{await t(f,l)}catch(o){y=o}}else u&&await u({...s.errors},l),qe(),setTimeout(qe);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:N(s.errors)&&!y,submitCount:s.submitCount+1,errors:s.errors}),y)throw y},Vt=(t,u={})=>{d(n,t)&&(E(u.defaultValue)?Z(t,M(d(a,t))):(Z(t,u.defaultValue),A(a,t,M(u.defaultValue))),u.keepTouched||O(s.touchedFields,t),u.keepDirty||(O(s.dirtyFields,t),s.isDirty=u.defaultValue?b(t,M(d(a,t))):b()),u.keepError||(O(s.errors,t),m.isValid&&Q()),v.state.next({...s}))},He=(t,u={})=>{const l=t?M(t):a,y=M(l),f=t&&!N(t)?y:a;if(u.keepDefaultValues||(a=l),!u.keepValues){if(u.keepDirtyValues)for(const o of g.mount)d(s.dirtyFields,o)?A(f,o,d(c,o)):Z(o,d(f,o));else{if(Oe&&E(t))for(const o of g.mount){const h=d(n,o);if(h&&h._f){const F=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(be(F)){const L=F.closest("form");if(L){L.reset();break}}}}n={}}c=e.shouldUnregister?u.keepDefaultValues?M(a):{}:M(f),v.array.next({values:{...f}}),v.values.next({values:{...f}})}g={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!_.mount&&i(),_.mount=!m.isValid||!!u.keepIsValid||!!u.keepDirtyValues,_.watch=!!e.shouldUnregister,v.state.next({submitCount:u.keepSubmitCount?s.submitCount:0,isDirty:u.keepDirty?s.isDirty:!!(u.keepDefaultValues&&!ee(t,a)),isSubmitted:u.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:u.keepDirtyValues?u.keepDefaultValues&&c?he(a,c):s.dirtyFields:u.keepDefaultValues&&t?he(a,t):{},touchedFields:u.keepTouched?s.touchedFields:{},errors:u.keepErrors?s.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},$e=(t,u)=>He(X(t)?t(c):t,u);return{control:{register:Ee,unregister:De,getFieldState:Ie,handleSubmit:We,setError:Pe,_executeSchema:q,_getWatch:S,_getDirty:b,_updateValid:Q,_removeUnmounted:V,_updateFieldArray:z,_updateDisabledField:je,_getFieldArray:U,_reset:He,_resetDefaultValues:()=>X(r.defaultValues)&&r.defaultValues().then(t=>{$e(t,r.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:t=>{s={...s,...t}},_disableForm:xt,_subjects:v,_proxyFormState:m,_setErrors:C,get _fields(){return n},get _formValues(){return c},get _state(){return _},set _state(t){_=t},get _defaultValues(){return a},get _names(){return g},set _names(t){g=t},get _formState(){return s},set _formState(t){s=t},get _options(){return r},set _options(t){r={...r,...t}}},trigger:we,register:Ee,handleSubmit:We,watch:bt,setValue:Z,getValues:Ne,reset:$e,resetField:Vt,clearErrors:_t,unregister:De,setError:Pe,setFocus:(t,u={})=>{const l=d(n,t),y=l&&l._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&(f.focus(),u.shouldSelect&&f.select())}},getFieldState:Ie}}function Gt(e={}){const i=w.useRef(),r=w.useRef(),[s,n]=w.useState({isDirty:!1,isValidating:!1,isLoading:X(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:X(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...jt(e,()=>n(c=>({...c}))),formState:s});const a=i.current.control;return a._options=e,Re({subject:a._subjects.state,next:c=>{at(c,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),w.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),w.useEffect(()=>{if(a._proxyFormState.isDirty){const c=a._getDirty();c!==s.isDirty&&a._subjects.state.next({isDirty:c})}},[a,s.isDirty]),w.useEffect(()=>{e.values&&!ee(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,n(c=>({...c}))):a._resetDefaultValues()},[e.values,a]),w.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),w.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),w.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),i.current.formState=nt(s,a),i.current}const Jt=()=>{const[e,i]=rt.useState(!1);return[e,()=>{i(!e)}]};export{Kt as C,zt as M,Gt as a,Lt as b,d as g,Jt as u};
