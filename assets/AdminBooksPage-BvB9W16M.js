import{r as o,p as k,u as P,E as y,F as E,P as b,h as w,j as s,t as A,a as B,G as c}from"./index-wOjy7yZL.js";import{u as I}from"./useBooks-vhXSx1aw.js";import{I as i,a as m}from"./InfoMessage-BwqaEqX3.js";import{C as L,P as T}from"./ConfirmDelete-CxEIwKEL.js";import"./getFormattedDate-C-n2GMDM.js";const R=()=>{const{books:n,page:r,totalBooks:u,totalPages:h,isLoading:d}=I(),[l,f]=o.useState("Show All"),[g,p]=o.useState([]),[x]=k(),e=P(),t=x.get("keyword");o.useEffect(()=>{p(["Show All",...y])},[]),o.useEffect(()=>{e(E())},[e]),o.useEffect(()=>{const a={params:{page:r,size:b,...t&&{keyword:t},...l!=="Show All"&&{status:l}},isAdmin:!0};e(w(a))},[e,r,t,l]);const j=a=>{e(c(0)),f(a)},S=a=>{e(c(a))};return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"py-5",children:[s.jsxs("div",{className:"flex justify-between mb-3",children:[s.jsxs("h2",{className:"text-[24px] font-medium",children:["Total books: ",u]}),s.jsx(A,{status:l,setStatus:j,statuses:g,showLabel:!1})]}),n.length===0&&t?s.jsx(i,{type:m.NoResults,messageText:t}):n.length===0&&s.jsx(i,{type:m.Empty,messageText:"Please add a book."}),n.length?s.jsx(L,{items:n}):null,s.jsx(T,{setPage:S,page:r,totalPages:h})]}),d&&s.jsx(B,{})]})};export{R as default};
